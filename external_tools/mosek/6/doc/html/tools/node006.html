<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>4. Using the MOSEK command line tool</title>
<!-- pyLaTeX: XHTML.lib.Sectioning.chapter -->
<link href="styles/style.css" rel="stylesheet"/>
<link href="styles/gstyles.css" rel="stylesheet"/>
<link href="graphics/favicon.png" rel="shortcut icon"/>
</head>
<body>
<div class="navigationarea">
<table class="navigation" width="100%" cellpadding="0" cellspacing="2">
<tbody><tr>
<td><a href="node005.html" target="_self"><img src="graphics/previous.png" class="navbutton-previous" alt="Previous : 3. Getting support and help" border="0"/></a></td>
<td><a href="index.html" target="_self"><img src="graphics/up.png" class="navbutton-up" alt="Up:  The MOSEK optimization tools manual. 
Version 6.0 (Revision 137)." border="0"/></a></td>
<td><a href="node007.html" target="_self"><img src="graphics/next.png" class="navbutton-next" alt="Next:  5. MOSEK and AMPL" border="0"/></a></td>
<td align="center" class="navtitle">The MOSEK optimization tools manual. 
<br/>Version 6.0 (Revision 137).</td>
<td><a href="index.html"><img src="graphics/contents.png" class="navbutton-contents" alt="" border="0"/></a></td>
<td><a href="node028.html"><img src="graphics/index.png" class="navbutton-index" alt="" border="0"/></a></td></tr>
</tbody>
</table>


<table class="trail"><tr>
<td valign="top"><b>Previous : </b><a href="node005.html" target="_self">3. Getting support and help</a></td>
<td valign="top"><b>Up : </b><a href="index.html" target="_self">The MOSEK optimization tools manual. 
<br/>Version 6.0 (Revision 137).</a></td>
<td valign="top"><b>Next : </b><a href="node007.html" target="_self">5. MOSEK and AMPL</a></td>
<td valign="top"><a href="index.html" target="_self"><b>Contents</b></a></td>
<td valign="top"><a href="node028.html"><b>Index</b></a></td></tr></table>

<hr/>
</div>

<div>
<h1><a name="238922784">4. Using the MOSEK command line tool</a></h1>

<div class="contents">
<ul class="toc-level-1">
<li><a href="node006.html#238926160" target="_self">4.1. Getting started</a></li>
<li><a href="node006.html#238929608" target="_self">4.2. Examples</a>
<ul class="toc-level-2">
<li><a href="node006.html#238926304" target="_self">4.2.1. Linear optimization</a></li>
<li><a href="node006.html#238954544" target="_self">4.2.2. Quadratic optimization</a></li>
<li><a href="node006.html#238971432" target="_self">4.2.3. Conic optimization</a></li>
</ul>
</li>
<li><a href="node006.html#238999600" target="_self">4.3. Passing options to the command line tool</a></li>
<li><a href="node006.html#239000896" target="_self">4.4. Reading and writing problem data files</a>
<ul class="toc-level-2">
<li><a href="node006.html#239024104" target="_self">4.4.1. Reading compressed data files</a></li>
<li><a href="node006.html#239025832" target="_self">4.4.2. Converting from one format and to another</a></li>
</ul>
</li>
<li><a href="node006.html#239023384" target="_self">4.5. Hot-start</a>
<ul class="toc-level-2">
<li><a href="node006.html#239022376" target="_self">4.5.1. An example</a></li>
</ul>
</li>
<li><a href="node006.html#240595384" target="_self">4.6. Further information</a></li>
<li><a href="node006.html#239024392" target="_self">4.7. Solution file filtering</a></li>
</ul>

<hr width="100%" class="tocseparator"/>
</div>

<p> <a name="ch-mosek-comtool">&#09;</a> <a name="idx-85350952">&#09;</a></p>

<p>This chapter introduces the MOSEK command line tool which allows the user to solve optimization problems specified in a text file. The main reasons to use the command line tool are </p>

<ul class="itemize">
<li>to solve small problems by hand, and</li>
<li>as a debugging tool for large problems generated by other programs. </li>
</ul>

<div>
<h1><a name="238926160">4.1. Getting started</a></h1>

<p>The syntax for the mosek command line tool is </p>

<pre class="verbatimcmdline">  mosek [options] filename
</pre>

<p><tt class="tt">[options]</tt> are some options which modify the behavior of MOSEK such as whether the optimization problem is minimized or maximized. <tt class="tt">filename</tt> is the name of the file which contains the problem data. E.g the </p>

<pre class="verbatimcmdline">  mosek -min afiro.mps
</pre>

<p>command line tells MOSEK to read data from the <tt class="tt">afiro.mps</tt> file and to minimize the objective function.</p>

<p>By default the solution to the optimization problem is stored in the files <tt class="tt">afiro.sol</tt> and <tt class="tt">afiro.bas</tt>. The <tt class="tt">.sol</tt> and <tt class="tt">.bas</tt> files contains the interior and basis solution respectively. For problems with integer variables the solution is written to a file with the extension <tt class="tt">.int</tt>.</p>

<p>For a complete list of command line parameters type </p>

<pre class="verbatimcmdline">  mosek -h
</pre>

<p>or see Appendix <a title="A. MOSEK command line tool reference" href="node017.html#ch-comtoolref">A</a>.</p>

</div>

<div>
<h1><a name="238929608">4.2. Examples</a></h1>

<p>Using several examples we will subsequently demonstrate how to use the MOSEK command line tool.</p>

<div>
<h2><a name="238926304">4.2.1. Linear optimization</a></h2>

<p> <a name="ch-comtool-sec-linopt">&#09;</a></p>

<p>A linear optimization problem is a problem where a linear objective function is optimized subject to linear constraints. An example of a linear optimization problem is </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math1.png" alt="\begin{math}\nonumber{}\begin{array}{lccccc}\nonumber{}\mbox{minimize} & -10x_{1} &  & -9x_{2}, &  & \\\nonumber{}\mbox{subject to} & 7/10x_{1} & + & 1x_{2} & \leq{} & 630,\\\nonumber{} & 1/2x_{1} & + & 5/6x_{2} & \leq{} & 600,\\\nonumber{} & 1x_{1} & + & 2/3x_{2} & \leq{} & 708,\\\nonumber{} & 1/10x_{1} & + & 1/4x_{2} & \leq{} & 135,\\\nonumber{} & x_{1}, &  & x_{2} & \geq{} & 0.\end{array}\end{math}"/></td>
<td><a name="ch-comtool-sec-sec-linopt-eq-lo1">&#09;</a>(4.2.1)</td></tr>
</tbody>
</table>

<p>The solution of the example (<a href="node006.html#ch-comtool-sec-sec-linopt-eq-lo1">4.2.1</a>) using MOSEK consists of three steps: </p>

<ul class="itemize">
<li>Creating an input file describing the problem.</li>
<li>Optimizing the problem using MOSEK.</li>
<li>Viewing the solution reports. </li>
</ul>

<p> The input file for MOSEK is a plain text file containing a description of the problem and it must be in either the MPS, the LP, or the OPF format. Below we present the example encoded as an OPF file: </p>

<pre class="verbatim">[comment]
  Example lo1.mps converted to OPF. 
[/comment]

[hints]
  # Give a hint about the size of the different elements in the problem. 
  # These need only be estimates, but in this case they are exact.
  [hint NUMVAR] 2 [/hint]
  [hint NUMCON] 4 [/hint]
  [hint NUMANZ] 8 [/hint]
[/hints]

[variables]
  # All variables that will appear in the problem
  x1 x2 
[/variables]

[objective minimize 'obj']
   - 10 x1 - 9 x2
[/objective]

[constraints]
  [con 'c1']  0.7 x1 +              x2 &lt;= 630 [/con]
  [con 'c2']  0.5 x1 + 0.8333333333 x2 &lt;= 600 [/con]
  [con 'c3']      x1 + 0.66666667   x2 &lt;= 708 [/con]
  [con 'c4']  0.1 x1 + 0.25         x2 &lt;= 135 [/con]
[/constraints]

[bounds]
  # By default all variables are free. The following line will 
  # change this to all variables being nonnegative.
  [b] 0 &lt;= * [/b]
[/bounds]
</pre>

<p>For details on the syntax of the OPF format please consult Appendix <a title="D. The OPF format" href="node020.html#app-sec-opfformat">D</a>.</p>

<p>After the input file has been created, the problem can be optimized. Assuming that the input file has been given the name <tt class="tt">lo1.opf</tt>, then the problem is optimized using the command line </p>

<pre class="verbatimcmdline">  mosek lo1.opf
</pre>

<p>Two solution report files <tt class="tt">lo1.sol</tt> and <tt class="tt">lo1.bas</tt> are generated where the first file contains the interior solution and the second file contains the basic solution. In this case the <tt class="tt">lo1.bas</tt> file has the format:</p>

<p><small class="scriptsize">
<pre class="verbatim">NAME                : EXAMPLE
PROBLEM STATUS      : PRIMAL_AND_DUAL_FEASIBLE
SOLUTION STATUS     : OPTIMAL
OBJECTIVE NAME      : obj
PRIMAL OBJECTIVE    : -7.66799999e+003
DUAL OBJECTIVE      : -7.66799999e+003

CONSTRAINTS
INDEX  NAME             AT ACTIVITY           LOWER LIMIT        UPPER LIMIT        DUAL LOWER         DUAL UPPER
1      c1               UL 6.30000000e+002    NONE               6.30000000e+002    0.00000000e+000    4.37499996e+000
2      c2               BS 4.80000000e+002    NONE               6.00000000e+002    0.00000000e+000    0.00000000e+000
3      c3               UL 7.08000000e+002    NONE               7.08000000e+002    0.00000000e+000    6.93750003e+000
4      c4               BS 1.17000000e+002    NONE               1.35000000e+002    0.00000000e+000    0.00000000e+000

VARIABLES
INDEX  NAME             AT ACTIVITY           LOWER LIMIT        UPPER LIMIT        DUAL LOWER         DUAL UPPER
1      x1               BS 5.39999998e+002    0.00000000e+000    NONE               0.00000000e+000    0.00000000e+000
2      x2               BS 2.52000001e+002    0.00000000e+000    NONE               0.00000000e+000    0.00000000e+000
</pre>
</small></p>

<p>The interpretation of the solution file should be obvious. E.g the optimal values of <tt class="tt">x1</tt> and <tt class="tt">x2</tt> are 539.99 and 252.00 respectively. A detailed discussion of the solution file format is given in Appendix <a title="F. The solution file format" href="node022.html#app-sec-solfile">F</a>.</p>

</div>

<div>
<h2><a name="238954544">4.2.2. Quadratic optimization</a></h2>

<p>An example of a quadratic optimization problem is </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math2.png" alt="\begin{math}\nonumber{}\begin{array}{lcccl}\nonumber{}\mbox{minimize} &  &  & x_{1}^{2}+0.1x_{2}^{2}+x_{3}^{2}-x_{1}x_{3}-x_{2} & \\\nonumber{}\mbox{subject to} & 1 & \leq{} & x_{1}+x_{2}+x_{3}, & \\\nonumber{} &  &  & x\geq{}0. &\end{array}\end{math}"/></td>
<td>(4.2.2)</td></tr>
</tbody>
</table>

<p>The problem is a quadratic optimization problem because all the constraints are linear and the objective can be stated on the form </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math3.png" alt="\begin{displaymath}\nonumber{}0.5x^{T}Qx+c^{T}x\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>where in this particular case we have that </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math4.png" alt="\begin{math}\nonumber{}Q=\left[\begin{array}{ccc}\nonumber{}2 & 0 & -1\\\nonumber{}0 & 0.2 & 0\\\nonumber{}-1 & 0 & 2\end{array}\right]\mbox{ and }c=\left[\begin{array}{c}\nonumber{}0\\\nonumber{}-1\\\nonumber{}0\end{array}\right].\end{math}"/></td>
<td>(4.2.3)</td></tr>
</tbody>
</table>

<p>MOSEK assumes that <span class="math"><span class="mi">Q</span></span> is symmetric and positive semi-definite. If these assumptions are not satisfied, MOSEK will most likely not compute a valid solution. Recall a matrix is symmetric if it satisfies the condition </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math5.png" alt="\begin{displaymath}\nonumber{}Q=Q^{T}\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>and it is positive semi-definite if </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math6.png" alt="\begin{displaymath}\nonumber{}x^{T}Qx\geq{}0,\mbox{ for all }x.\end{displaymath}"/></td></tr>
</tbody>
</table>

<p> An OPF file specifying the example can have the format: </p>

<pre class="verbatim">[comment]
  Example qo1.mps converted to OPF.
[/comment]

[hints]
  [hint NUMVAR] 3 [/hint]
  [hint NUMCON] 1 [/hint]
  [hint NUMANZ] 3 [/hint]
[/hints]

[variables]
  x1 x2 x3 
[/variables]

[objective minimize 'obj']
   # The quadratic terms are often multiplied by 1/2, 
   # but this is not required.

   - x2 + 0.5 ( 2 x1 ^ 2 - 2 x3 * x1 + 0.2 x2 ^ 2 + 2 x3 ^ 2 )
[/objective]

[constraints]
  [con 'c1'] 1 &lt;= x1 + x2 + x3 [/con]
[/constraints]

[bounds]
  [b] 0 &lt;= * [/b]
[/bounds]
</pre>

<p>Please note that the quadratic terms in objective are stated very naturally in the OPF format as follows </p>

<pre class="verbatim">   - x2 + 0.5 ( 2 x1 ^ 2 - 2 x3 * x1 + 0.2 x2 ^ 2 + 2 x3 ^ 2 )
</pre>

<p>The example is solved using the </p>

<pre class="verbatimcmdline">  mosek qo1.opf
</pre>

<p>command line. In this case only one solution file named <tt class="tt">qo1.sol</tt> is produced. A <tt class="tt">.bas</tt> file is only produced for linear problems.</p>

</div>

<div>
<h2><a name="238971432">4.2.3. Conic optimization</a></h2>

<p>Conic optimization is a generalization of linear optimization which allows the formulation of nonlinear convex optimization problems.</p>

<p>The main idea in conic optimization is to include constraints of the form </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math7.png" alt="\begin{displaymath}\nonumber{}x^{t}\in{}\mathcal{C}\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>in the optimization problem where <span class="math"><img src="math/math8.png" alt="[[MathCmd 8]]"/></span> consists of a subset of the variables and <span class="math"><img src="math/math9.png" alt="[[MathCmd 9]]"/></span> is a convex cone. Recall that <span class="math"><img src="math/math9.png" alt="[[MathCmd 9]]"/></span> is a convex cone if and only if <span class="math"><img src="math/math9.png" alt="[[MathCmd 9]]"/></span> is a convex set and </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math12.png" alt="\begin{displaymath}\nonumber{}x\in{}\mathcal{C}\Rightarrow \alpha x\in{}\mathcal{C}\mbox{ for all }\alpha \geq{}0.\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>MOSEK cannot handle arbitrary conic constraints, only the two types </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math13.png" alt="\begin{math}\nonumber{}\left\lbrace{}x\in{}\mathbb{R}^{{n+1}}:~x_{1}\geq{}\sqrt{\sum \limits _{{j=2}}^{{n+1}}x_{j}^{2}}\right\rbrace{}\end{math}"/></td>
<td><a name="ch-comtool-sec-co-qc">&#09;</a>(4.2.4)</td></tr>
</tbody>
</table>

<p>and </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math14.png" alt="\begin{math}\nonumber{}\left\lbrace{}x\in{}\mathbb{R}^{{n+2}}:~2x_{1}x_{2}\geq{}\sum \limits _{{j=2}}^{{n+2}}x_{j}^{2},~x_{1},x_{2}\geq{}0\right\rbrace{}.\end{math}"/></td>
<td><a name="ch-comtool-sec-co-rqc">&#09;</a>(4.2.5)</td></tr>
</tbody>
</table>

<p>(<a href="node006.html#ch-comtool-sec-co-qc">4.2.4</a>) is called a quadratic cone whereas (<a href="node006.html#ch-comtool-sec-co-rqc">4.2.5</a>) is called a rotated quadratic cone.</p>

<p>Consider the problem </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math15.png" alt="\begin{math}\nonumber{}\begin{array}{lccl}\nonumber{}\mbox{minimize} & 1x_{1}+2x_{2} &  & \\\nonumber{}\mbox{subject to} & \frac{1}{x_{1}}+\frac{2}{x_{2}} & \leq{} & 5,\\\nonumber{} & x\geq{}0 &  &\end{array}\end{math}"/></td>
<td><a name="ch-comtool-sec-co-eq-ex1">&#09;</a>(4.2.6)</td></tr>
</tbody>
</table>

<p>which may not initially look like a conic optimization problem. It can however be reformulated to </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math16.png" alt="\begin{math}\nonumber{}\begin{array}{lccl}\nonumber{}\mbox{minimize} & 1x_{1}+2x_{2} &  & \\\nonumber{}\mbox{subject to} & 2x_{3}+4x_{4} & = & 5,\\\nonumber{} & x_{5}^{2} & \leq{} & 2x_{1}x_{3},\\\nonumber{} & x_{6}^{2} & \leq{} & 2x_{2}x_{4},\\\nonumber{} & x_{5} & = & 1,\\\nonumber{} & x_{6} & = & 1,\\\nonumber{} & x\geq{}0. &  &\end{array}\end{math}"/></td>
<td><a name="ch-comtool-sec-co-eq-rex1">&#09;</a>(4.2.7)</td></tr>
</tbody>
</table>

<p>Problem (<a href="node006.html#ch-comtool-sec-co-eq-ex1">4.2.6</a>) and problem (<a href="node006.html#ch-comtool-sec-co-eq-rex1">4.2.7</a>) are equivalent because the constraints of (<a href="node006.html#ch-comtool-sec-co-eq-rex1">4.2.7</a>) </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math17.png" alt="\begin{displaymath}\nonumber{}\frac{x_{5}^{2}}{x_{1}}=\frac{1}{x_{1}}\leq{}2x_{3}\mbox{ and }\frac{x_{6}^{2}}{x_{2}}\leq{}\frac{1}{x_{2}}\leq{}2x_{4}\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>and hence </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math18.png" alt="\begin{displaymath}\nonumber{}\frac{1}{x_{1}}+\frac{2}{x_{2}}\leq{}2x_{3}+4x_{4}=5.\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>The problem (<a href="node006.html#ch-comtool-sec-co-eq-rex1">4.2.7</a>) is a conic quadratic optimization problem.</p>

<p>Using the MOSEK OPF format the problem can be represented as follows: </p>

<pre class="verbatim">[comment]
  Example cqo1.mps converted to OPF.
[/comment]

[hints]
  [hint NUMVAR] 6 [/hint]
  [hint NUMCON] 1 [/hint]
  [hint NUMANZ] 2 [/hint]
[/hints]

[variables]
  x1 x2 x3 x4 x5 x6 
[/variables]

[objective minimize 'obj']
   x1 + 2 x2
[/objective]

[constraints]
  [con 'c1']  2 x3 + 4 x4 = 5 [/con]
[/constraints]

[bounds]
  # We let all variables default to the positive orthant
  [b] 0 &lt;= * [/b]
  # ... and change those that differ from the default.
  [b] x5,x6 = 1 [/b]

  # We define two rotated quadratic cones

  # k1: 2 x1 * x3 &gt;= x5^2
  [cone rquad 'k1'] x1, x3, x5 [/cone]

  # k2: 2 x2 * x4 &gt;= x6^2
  [cone rquad 'k2'] x2, x4, x6 [/cone]
[/bounds]
</pre>

<p>For details on the OPF format please consult Appendix <a title="D. The OPF format" href="node020.html#app-sec-opfformat">D</a>. Finally, the example can be solved using the </p>

<pre class="verbatimcmdline">  mosek cqo1.opf
</pre>

<p>command line call and the solution can be studied by inspecting the <tt class="tt">cqo1.sol</tt> file.</p>

</div>

</div>

<div>
<h1><a name="238999600">4.3. Passing options to the command line tool</a></h1>

<p>It is possible to modify the behavior of MOSEK by setting appropriate parameters. E.g assume that a linear optimization problem should be solved with the primal simplex optimizer rather than the default interior-point optimizer. This is done by setting the parameter <a href="node024.html#common-const*mosek*iparam*optimizer"><tt class="tt">MSK_IPAR_OPTIMIZER</tt></a> to the value <a href="node025.html#common-const*mosek*optimizertype*primal-simplex"><tt class="tt">MSK_OPTIMIZER_PRIMAL_SIMPLEX</tt></a>. To accomplish this append </p>

<pre class="verbatim">-d MSK_IPAR_OPTIMIZER MSK_OPTIMIZER_PRIMAL_SIMPLEX.
</pre>

<p>to the command line. E.g the command </p>

<pre class="verbatimcmdline">  mosek  -d MSK_IPAR_OPTIMIZER MSK_OPTIMIZER_PRIMAL_SIMPLEX lo1.opf
</pre>

<p>solves the problem specified by <tt class="tt">lo1.opf</tt> using the primal simplex optimizer. For further information on the parameters available in MOSEK please see Appendix <a title="H. Parameters reference" href="node024.html#app-paramref">H</a>.</p>

</div>

<div>
<h1><a name="239000896">4.4. Reading and writing problem data files</a></h1>

<p>MOSEK reads and writes problem data files in the formats presented in Table <a href="node006.html#ch-mosekexamp-sec-rwdatafiles">4.1</a>. </p>

<table width="100%" class="tablecontainer"><tr>
<td align="center">
<table class="table" border="0"><tr>
<td><center>
<div class="outerframe">
<div class="innerframe">
<table class="tabular" rules="none" cellspacing="0" frame="void" cellpadding="5" border="1"><colgroup><col/><col/><col/><col/><col/><col/><col/></colgroup>
<tbody><tr class="evenrow">
<td valign="top" style="border-top:1px solid black;"> Format name </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Standard </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Read </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Write </td>
<td align="center" valign="top" style="border-top:1px solid black;"> File type </td>
<td align="center" valign="top" style="border-top:1px solid black;"> File extension </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Reference</td></tr>
</tbody>

<tbody><tr class="oddrow">
<td valign="top" style="border-top:1px solid black;">OPF </td>
<td align="center" valign="top" style="border-top:1px solid black;"> No </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Yes </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Yes </td>
<td align="center" valign="top" style="border-top:1px solid black;"> ASCII/UTF8 </td>
<td align="center" valign="top" style="border-top:1px solid black;"> opf </td>
<td align="center" valign="top" style="border-top:1px solid black;"> Appendix <a title="D. The OPF format" href="node020.html#app-sec-opfformat">D</a></td></tr><tr class="evenrow">
<td valign="top">MPS </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> ASCII </td>
<td align="center" valign="top"> mps </td>
<td align="center" valign="top"> Appendix <a title="B. The MPS file format" href="node018.html#app-sec-mpsformat">B</a></td></tr><tr class="oddrow">
<td valign="top">LP </td>
<td align="center" valign="top"> Partially </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> ASCII </td>
<td align="center" valign="top"> lp </td>
<td align="center" valign="top"> Appendix <a title="C. The LP file format" href="node019.html#app-sec-lpformat">C</a></td></tr><tr class="evenrow">
<td valign="top">OSiL XML </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> No </td>
<td align="center" valign="top"> Yes </td>
<td align="center" valign="top"> ASCII/UTF8 </td>
<td align="center" valign="top"> xml </td>
<td align="center" valign="top"> Appendix <a title="E. The XML (OSiL) format" href="node021.html#app-sec-osilformat">E</a></td></tr><tr class="oddrow">
<td valign="top" style="border-bottom:1px solid black;">Binary task format </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> No </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> Yes </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> Yes </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> Binary </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> mbt </td>
<td align="center" valign="top" style="border-bottom:1px solid black;"> </td></tr>
</tbody>
</table>

</div>

</div>
<span class="caption">Table&nbsp;4.1: Supported file formats.</span>
<br/>
<p> <a name="ch-mosekexamp-sec-rwdatafiles">&#09;</a> </p>
</center></td></tr></table>
</td></tr></table>

<p>The columns of Table <a href="node006.html#ch-mosekexamp-sec-rwdatafiles">4.1</a> show: </p>

<ul class="itemize">
<li>The name of the format.</li>
<li>Whether the format is an industry standard format.</li>
<li>If the format can be read by MOSEK.</li>
<li>If the format can be written by MOSEK.</li>
<li>The generic file type of the format, i.e. ASCII, UTF8, or binary.</li>
<li>The file extension for the format</li>
<li>The location of information about the format. </li>
</ul>

<div>
<h2><a name="239024104">4.4.1. Reading compressed data files</a></h2>

<p>MOSEK can read and write data files compressed with gzip </p>

<p>For mosek to recognize a file as a gzip compressed file it must have the extension <tt class="tt">.gz</tt>. E.g the command </p>

<pre class="verbatimcmdline">  mosek myfile.mps.gz
</pre>

<p>will automatically decompress the file while reading it.</p>

</div>

<div>
<h2><a name="239025832">4.4.2. Converting from one format and to another</a></h2>

<p>It is possible to use MOSEK to convert a problem file from one format to another. For instance assume the MPS file <tt class="tt">myprob.mps</tt> should be converted to an LP file named <tt class="tt">myprob.lp</tt>. This can be achieved with the command </p>

<pre class="verbatimcmdline">  mosek myprob.mps -out myprob.lp -x
</pre>

<p>Converting an MPS file to a LP file and back to an MPS file permutes the rows and columns of the original problem; this has no influence on the problem, but variables and constraints may appear in a different order.</p>

</div>

</div>

<div>
<h1><a name="239023384">4.5. Hot-start</a></h1>

<p>Often a sequence of closely related optimization problems has to be solved. In such a case it can be expected that a previous optimal solution can serve as a good starting point when the modified problem is optimized.</p>

<p>Currently, only the simplex optimizer and the mixed-integer optimizer in MOSEK can exploit a guess for the optimal solution. The simplex optimizer can exploit an arbitrary guess for the optimal solution whereas the mixed-integer optimizer requires a feasible integer solution. For both the simplex optimizer and the mixed-integer optimizer it holds that if the guess is good then the optimizer may be able to reduce the solution time significantly when exploiting the guess.</p>

<div>
<h2><a name="239022376">4.5.1. An example</a></h2>

<p>Assume that the example </p>

<table width="100%" class="equation" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math19.png" alt="\begin{math}\nonumber{}\begin{array}{lccccc}\nonumber{}\mbox{minimize} & c_{1}x_{1} &  & -9x_{2}, &  & \\\nonumber{}\mbox{subject to} & 7/10x_{1} & + & 1x_{2} & \leq{} & 630,\\\nonumber{} & 1/2x_{1} & + & 5/6x_{2} & \leq{} & 600,\\\nonumber{} & 1x_{1} & + & 2/3x_{2} & \leq{} & 708,\\\nonumber{} & 1/10x_{1} & + & 1/4x_{2} & \leq{} & 135,\\\nonumber{} & x_{1}, &  & x_{2} & \geq{} & 0.\end{array}\end{math}"/></td>
<td><a name="ch-comtool-sec-warmstart-eq-lo1">&#09;</a>(4.5.1)</td></tr>
</tbody>
</table>

<p>should be solved for <span class="math"><img src="math/math20.png" alt="[[MathCmd 20]]"/></span> identical to <span class="math"><span class="mn">-5</span></span> and <span class="math"><span class="mn">-10</span></span>. Clearly, a solution for one <span class="math"><img src="math/math20.png" alt="[[MathCmd 20]]"/></span> value will also be feasible for another value. Therefore, it might be worthwhile to exploit the previous optimal solution when reoptimizing the problem.</p>

<p>Assume that two MPS files have been created each corresponding to one of the <span class="math"><img src="math/math20.png" alt="[[MathCmd 20]]"/></span> values then the commands </p>

<pre class="verbatimcmdline">  mosek lo1.mps -baso .\lo1.bas
  mosek lo1-b.mps -basi .\lo1.bas -baso .\lo1-b.bas
  -d MSK_IPAR_OPTIMIZER MSK_OPTIMIZER_PRIMAL_SIMPLEX
</pre>

<p>demonstrates how to exploit the previous optimal solution in the second optimization.</p>

<p>In the first line MOSEK optimizes the first version of the optimization problem where <span class="math"><img src="math/math20.png" alt="[[MathCmd 20]]"/></span> is identical to <span class="math"><span class="mn">-10</span></span>. The <tt class="verb">-baso .\lo1.bas</tt>command line option makes sure that the optimal basic solution is written to the file <tt class="verb">.\lo1.bas</tt>.</p>

<p>In the second line the second instance of the problem is optimized. The <tt class="verb">-basi .\lo1.bas</tt>command line option forces MOSEK to read the previous optimal solution which MOSEK will try to exploit automatically. The <tt class="verb">-baso .\lo1-b.bas</tt>command line option makes sure that the optimal basic solution is written to the <tt class="verb">.\lo1-b.bas</tt>file. Finally, the </p>

<pre class="verbatim">-d MSK_IPAR_OPTIMIZER MSK_OPTIMIZER_PRIMAL_SIMPLEX
</pre>

<p>command line option makes sure that the primal simplex optimizer is used for the reoptimization. This is important because the interior-point optimizer used by default does not exploit a previous optimal solution.</p>

</div>

</div>

<div>
<h1><a name="240595384">4.6. Further information</a></h1>

<p>Additional information about the MOSEK command line tool is available in Appendix <a title="A. MOSEK command line tool reference" href="node017.html#ch-comtoolref">A</a>.</p>

</div>

<div>
<h1><a name="239024392">4.7. Solution file filtering</a></h1>

<p> <a name="ch-mosekexamp-sec-sol-filter">&#09;</a></p>

<p>The MOSEK solution files can be very space consuming for large problems. One way to cut down the solution file size is only to include variables which optimal value is in a certain interesting range i.e <span class="math"><span class="mo">[</span><span class="mn">0.01</span><span class="mo">,</span><span class="mn">0.99</span><span class="mo">]</span></span>. This can be done by setting the MOSEK parameters </p>

<pre class="verbatim">MSK_SPAR_SOL_FILTER_XX_LOW   0.01
MSK_SPAR_SOL_FILTER_XX_UPR   0.99
</pre>

<p>For further details consult the parameters <a href="node024.html#common-const*mosek*sparam*sol-filter-xc-low"><tt class="tt">MSK_SPAR_SOL_FILTER_XC_LOW</tt></a> and <a href="node024.html#common-const*mosek*sparam*sol-filter-xc-upr"><tt class="tt">MSK_SPAR_SOL_FILTER_XC_UPR</tt></a>.</p>

</div>

</div>

<div class="navigationarea">
<table class="navigation" width="100%" cellpadding="0" cellspacing="2">
<tbody><tr>
<td><a href="node005.html" target="_self"><img src="graphics/previous.png" class="navbutton-previous" alt="Previous : 3. Getting support and help" border="0"/></a></td>
<td><a href="index.html" target="_self"><img src="graphics/up.png" class="navbutton-up" alt="Up:  The MOSEK optimization tools manual. 
Version 6.0 (Revision 137)." border="0"/></a></td>
<td><a href="node007.html" target="_self"><img src="graphics/next.png" class="navbutton-next" alt="Next:  5. MOSEK and AMPL" border="0"/></a></td>
<td align="center" class="navtitle">The MOSEK optimization tools manual. 
<br/>Version 6.0 (Revision 137).</td>
<td><a href="index.html"><img src="graphics/contents.png" class="navbutton-contents" alt="" border="0"/></a></td>
<td><a href="node028.html"><img src="graphics/index.png" class="navbutton-index" alt="" border="0"/></a></td></tr>
</tbody>
</table>


<table class="trail"><tr>
<td valign="top"><b>Previous : </b><a href="node005.html" target="_self">3. Getting support and help</a></td>
<td valign="top"><b>Up : </b><a href="index.html" target="_self">The MOSEK optimization tools manual. 
<br/>Version 6.0 (Revision 137).</a></td>
<td valign="top"><b>Next : </b><a href="node007.html" target="_self">5. MOSEK and AMPL</a></td>
<td valign="top"><a href="index.html" target="_self"><b>Contents</b></a></td>
<td valign="top"><a href="node028.html"><b>Index</b></a></td></tr></table>

<hr/>
</div>

<div class="gentime">Tue Apr 10 11:02:15 2012</div>
</body></html>