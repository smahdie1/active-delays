<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>13. Usage guidelines</title>
<!-- pyLaTeX: XHTML.lib.Sectioning.chapter -->
<link href="styles/style.css" rel="stylesheet"/>
<link href="styles/gstyles.css" rel="stylesheet"/>
<link href="graphics/favicon.png" rel="shortcut icon"/>
</head>
<body>
<div class="navigationarea">
<table class="navigation" width="100%" cellpadding="0" cellspacing="2">
<tbody><tr>
<td><a href="node014.html" target="_self"><img src="graphics/previous.png" class="navbutton-previous" alt="Previous : 12. Sensitivity analysis" border="0"/></a></td>
<td><a href="index.html" target="_self"><img src="graphics/up.png" class="navbutton-up" alt="Up:  The MOSEK Python API manual. 
Version 6.0 (Revision 137)." border="0"/></a></td>
<td><a href="node016.html" target="_self"><img src="graphics/next.png" class="navbutton-next" alt="Next:  14. API reference" border="0"/></a></td>
<td align="center" class="navtitle">The MOSEK Python API manual. 
<br/>Version 6.0 (Revision 137).</td>
<td><a href="index.html"><img src="graphics/contents.png" class="navbutton-contents" alt="" border="0"/></a></td>
<td><a href="node028.html"><img src="graphics/index.png" class="navbutton-index" alt="" border="0"/></a></td></tr>
</tbody>
</table>


<table class="trail"><tr>
<td valign="top"><b>Previous : </b><a href="node014.html" target="_self">12. Sensitivity analysis</a></td>
<td valign="top"><b>Up : </b><a href="index.html" target="_self">The MOSEK Python API manual. 
<br/>Version 6.0 (Revision 137).</a></td>
<td valign="top"><b>Next : </b><a href="node016.html" target="_self">14. API reference</a></td>
<td valign="top"><a href="index.html" target="_self"><b>Contents</b></a></td>
<td valign="top"><a href="node028.html"><b>Index</b></a></td></tr></table>

<hr/>
</div>

<div>
<h1><a name="231516712">13. Usage guidelines</a></h1>

<div class="contents">
<ul class="toc-level-1">
<li><a href="node015.html#231513192" target="_self">13.1. Verifying the results</a>
<ul class="toc-level-2">
<li><a href="node015.html#231518936" target="_self">13.1.1. Verifying primal feasibility</a></li>
<li><a href="node015.html#231525120" target="_self">13.1.2. Verifying optimality</a></li>
</ul>
</li>
<li><a href="node015.html#231526344" target="_self">13.2. Turn on logging</a></li>
<li><a href="node015.html#231529216" target="_self">13.3. Turn on data checking</a></li>
<li><a href="node015.html#231526696" target="_self">13.4. Debugging an optimization task</a></li>
<li><a href="node015.html#231530936" target="_self">13.5. Important API limitations</a>
<ul class="toc-level-2">
<li><a href="node015.html#231530296" target="_self">13.5.1. Thread safety</a></li>
</ul>
</li>
<li><a href="node015.html#231532304" target="_self">13.6. Bug reporting</a></li>
</ul>

<hr width="100%" class="tocseparator"/>
</div>

<p> <a name="chap-guidelines">&#09;</a></p>

<p>The purpose of this chapter is to present some general guidelines to follow when using MOSEK.</p>

<div>
<h1><a name="231513192">13.1. Verifying the results</a></h1>

<p> The main purpose of MOSEK is to solve optimization problems and therefore the most fundamental question to be asked is whether the solution reported by MOSEK is a solution to the desired optimization problem.</p>

<p>There can be several reasons why it might be not case. The most prominent reasons are: </p>

<ul class="itemize">
<li>A wrong problem. The problem inputted to MOSEK is simply not the right problem, i.e. some of the data may have been corrupted or the model has been incorrectly built.</li>
<li>Numerical issues. The problem is badly scaled or otherwise badly posed.</li>
<li>Other reasons. E.g. not enough memory or an explicit user request to stop. </li>
</ul>

<p> The first step in verifying that MOSEK reports the expected solution is to inspect the solution summary generated by MOSEK; see section <a title="8.7. Understanding solution quality" href="node010.html#chap:solving:sec:solqual">8.7</a> for details. The solution summary provides information about </p>

<ul class="itemize">
<li>the problem and solution statuses, </li>
<li>objective value and infeasibility measures for the primal solution, and </li>
<li>objective value and infeasibility measures for the dual solution, where applicable. </li>
</ul>

<p>By inspecting the solution summary it can be verified that MOSEK produces a feasible solution, and, in the continuous case, the optimality can be checked using the dual solution. Furthermore, the problem itself ca be inspected using the problem analyzer discussed in section <a title="10.1. The problem analyzer" href="node012.html#ch_analyzers_sec_problem">10.1</a>.</p>

<p>If the summary reports conflicting information (e.g. a solution status that does not match the actual solution), or the cause for terminating the solver before a solution was found cannot be traced back to the reasons stated above, it may be caused by a bug in the solver; in this case, please contact MOSEK support.</p>

<div>
<h2><a name="231518936">13.1.1. Verifying primal feasibility</a></h2>

<p> If it has been verified that MOSEK solves the problem correctly but the solution is still not as expected, next step is to verify that the primal solution satisfies all the constraints. Hence, using the original problem it must be determined whether the solution satisfies all the required constraints in the model. For instance assume that the problem has the constraints </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math651.png" alt="\begin{displaymath}\nonumber{}\begin{array}{rcl}\nonumber{}x_{1}+2x_{2}+x_{3} & \leq{} & 1,\\\nonumber{}x_{1},x_{2},x_{3}\geq{}0 &  &\end{array}\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>and MOSEK reports the optimal solution </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math652.png" alt="\begin{displaymath}\nonumber{}x_{1}=x_{2}=x_{3}=1.\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>Then clearly the solution violates the constraints. The most likely explanation is that the model does not match the problem entered into MOSEK, for instance </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math653.png" alt="\begin{displaymath}\nonumber{}x_{1}-2x_{2}+x_{3}\leq{}1\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>may have been inputted instead of </p>

<table width="100%" class="displaymath" border="0">
<tbody><tr>
<td width="100%" align="center"><img src="math/math654.png" alt="\begin{displaymath}\nonumber{}x_{1}+2x_{2}+x_{3}\leq{}1.\end{displaymath}"/></td></tr>
</tbody>
</table>

<p>A good way to debug such an issue is to dump the problem to OPF file and check whether the violated constraint has been specified correctly.</p>

</div>

<div>
<h2><a name="231525120">13.1.2. Verifying optimality</a></h2>

<p> Verifying that a feasible solution is optimal can be harder. However, for continuous problems optimality can verified using a dual solution. Normally, MOSEK will report a dual solution; if that is feasible and has the same objective value as the primal solution, then the primal solution must be optimal.</p>

<p>An alternative method is to find another primal solution that has better objective value than the one reported to MOSEK. If that is possible then either the problem is badly posed or there is bug in MOSEK.</p>

</div>

</div>

<div>
<h1><a name="231526344">13.2. Turn on logging</a></h1>

<p> While developing a new application it is recommended to turn on logging, so that error and diagnostics messages are displayed.</p>

<p>See example in section <a title="5.2. Linear optimization" href="node007.html#chap-apiintro-sec-linear-optimization">5.2</a> for instructions on turning log output on. You should also always cache and handle any exceptions thrown by MOSEK.</p>

<p>More log information can be obtained by modifying one or more of the parameters: </p>

<ul class="itemize">
<li><a href="node017.html#common-const*mosek*iparam*log"><tt class="tt">mosek.iparam.log</tt></a>, </li>
<li><a href="node017.html#common-const*mosek*iparam*log-intpnt"><tt class="tt">mosek.iparam.log_intpnt</tt></a>, </li>
<li><a href="node017.html#common-const*mosek*iparam*log-mio"><tt class="tt">mosek.iparam.log_mio</tt></a>, </li>
<li><a href="node017.html#common-const*mosek*iparam*log-cut-second-opt"><tt class="tt">mosek.iparam.log_cut_second_opt</tt></a>, </li>
<li><a href="node017.html#common-const*mosek*iparam*log-sim"><tt class="tt">mosek.iparam.log_sim</tt></a>, and </li>
<li><a href="node017.html#common-const*mosek*iparam*log-sim-minor"><tt class="tt">mosek.iparam.log_sim_minor</tt></a>. </li>
</ul>

<p>By default MOSEK will reduce the amount of log information after the first optimization on a given task. To get full log output on subsequent optimizations set: </p>

<pre class="verbatim">mosek.iparam.log_cut_second_opt 0
</pre>

</div>

<div>
<h1><a name="231529216">13.3. Turn on data checking</a></h1>

<p>In the development phase it is useful to use the parameter setting </p>

<pre class="verbatim">mosek.iparam.data_check mosek.onoffkey.on
</pre>

<p>which forces MOSEK to check the input data. For instance, MOSEK looks for NANs in double values and outputs a warning if any are found.</p>

</div>

<div>
<h1><a name="231526696">13.4. Debugging an optimization task</a></h1>

<p> If something is wrong with a problem or a solution, one option is to output the problem to an OPF file and inspect it by hand. Use the <a href="node016.html#common-func*mosek*task*writedata"><tt class="tt">Task.writedata</tt></a> function to write a task to a file immediately before optimizing, for example as follows:</p>

<p>This will write the problem in <tt class="tt">task</tt> to the file <tt class="tt">taskdump.opf</tt>. Inspecting the text file <tt class="tt">taskdump.opf</tt> may reveal what is wrong in the problem setup.</p>

</div>

<div>
<h1><a name="231530936">13.5. Important API limitations</a></h1>

<div>
<h2><a name="231530296">13.5.1. Thread safety</a></h2>

<p> <a name="idx-96082904">&#09;</a></p>

<p>The MOSEK API is thread safe in the sense that any number of threads may use it simultaneously. However, the individual tasks and environments may <em>only</em> be accessed from at most one thread at a time.</p>

</div>

</div>

<div>
<h1><a name="231532304">13.6. Bug reporting</a></h1>

<p>If you think MOSEK is solving your problem incorrectly, please contact MOSEK support at <a href="mailto:support@mosek.com">support@mosek.com</a> providing a detailed description of the problem. MOSEK support may ask for the task file which is produced as follows</p>

<pre class="verbatim">task.Task.writedata("taskfile.mbt")
task.Task.optimize()
</pre>

<p> The task data will then be written to the <tt class="tt">taskfile.mbt</tt> file in binary form which is very useful when reproducing a problem.</p>

</div>

</div>

<div class="navigationarea">
<table class="navigation" width="100%" cellpadding="0" cellspacing="2">
<tbody><tr>
<td><a href="node014.html" target="_self"><img src="graphics/previous.png" class="navbutton-previous" alt="Previous : 12. Sensitivity analysis" border="0"/></a></td>
<td><a href="index.html" target="_self"><img src="graphics/up.png" class="navbutton-up" alt="Up:  The MOSEK Python API manual. 
Version 6.0 (Revision 137)." border="0"/></a></td>
<td><a href="node016.html" target="_self"><img src="graphics/next.png" class="navbutton-next" alt="Next:  14. API reference" border="0"/></a></td>
<td align="center" class="navtitle">The MOSEK Python API manual. 
<br/>Version 6.0 (Revision 137).</td>
<td><a href="index.html"><img src="graphics/contents.png" class="navbutton-contents" alt="" border="0"/></a></td>
<td><a href="node028.html"><img src="graphics/index.png" class="navbutton-index" alt="" border="0"/></a></td></tr>
</tbody>
</table>


<table class="trail"><tr>
<td valign="top"><b>Previous : </b><a href="node014.html" target="_self">12. Sensitivity analysis</a></td>
<td valign="top"><b>Up : </b><a href="index.html" target="_self">The MOSEK Python API manual. 
<br/>Version 6.0 (Revision 137).</a></td>
<td valign="top"><b>Next : </b><a href="node016.html" target="_self">14. API reference</a></td>
<td valign="top"><a href="index.html" target="_self"><b>Contents</b></a></td>
<td valign="top"><a href="node028.html"><b>Index</b></a></td></tr></table>

<hr/>
</div>

<div class="gentime">Tue Apr 10 10:54:29 2012</div>
</body></html>